---
title: "LinReg_slidy"
author: "Philipp Mildenberger"
date: "5 MÃ¤rz 2020"
output: slidy_presentation
---
<!-- --- -->
<!-- title: "Chapter 3 Linear Regression" -->
<!-- subtitle: "" -->
<!-- author: "Jan Linke </br> Philipp Mildenberger</br>" -->
<!-- date: "2020/03/16</br> -->
<!--   IMBEI - University Medical Center Mainz" -->
<!-- output:  -->
<!--   xaringan::moon_reader: -->
<!--     css: ["default", "default-fonts","css/animate.css"] -->
<!--     lib_dir: libs -->
<!--     nature: -->
<!--       highlightStyle: github -->
<!--       highlightLines: true -->
<!--       countIncrementalSlides: false -->
<!--       titleSlideClass: [center, middle] -->
<!-- --- -->

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  eval = TRUE,
  message = FALSE,
  echo = FALSE,
  warnings = FALSE,
  fig.align = "center",
  warning = FALSE,
  error = FALSE)
library(rgl)
library(pander)
knitr::knit_hooks$set(webgl=hook_webgl)
```

# Chapter Overview

- Motivating Example
- Simple Linear Regression
- Multiple Linear Regression
- Other Considerations in the Regression Model
- Example expained
- Comparison to $K$-Nearest Neighbors


# Motivating Example
## Data 
```{r, echo=FALSE}
## laden, relativer Pfad, sollte funktionieren wenn als R-project geoeffnet.
## quick'n'dirty hack: option 1 fuer arbeit in 
try(Advertising <- read.csv("Introduction to Statistical Learning - 2020/chapter3-linear_regression/data/Advertising.csv"),TRUE)
try(Advertising <- read.csv("data/Advertising.csv"),TRUE) 
```

```{r}
DT::datatable(Advertising)
```


# Motivating Example
## Questions

* Relationship between advertising budget and `sales`?
* How strong is relationship between advertising budget and `sales`?
* Which media contribute to `sales`?
* How accurately (and precisely) can we estimate the effect of each medium?
* How accurately can we predict future sales?
* Is the relationship linear?
* Is there synergy (i.e. interaction) among the adventising media?



# Simple Linear Regression
Predict quantitative response $Y$ on the basis of $X$

$$ Y \approx \beta_0 + \beta_1 X $$ 

- $\beta_0$:= "Intercept"  and $\beta_1$:= "slope"
- Often called "coefficients" "parameters"
- Both are unknown, will be estimated  

With estimates $\hat\beta_0$ and $\hat\beta_1$, one can predict future sales:

$$ \hat y = \beta_0 + \beta_1 x $$ 


# .
## Advertising Example 
```{r}
plot(sales ~ TV, data=Advertising, pch=16, col=2)
```

# .
## Advertising Example
```{r}
lm1 <- lm(sales~TV, data=Advertising)
coefs <- lm1$coefficients
plot(sales ~ TV, data=Advertising, pch=16, col=2)
abline(a=coefs[1],b=coefs[2], lwd=2, col=4)
```

# .
## Advertising Example
```{r}
pred  <- predict(lm1)
plot(sales ~ TV, data=Advertising, pch=16, col=2)
abline(a=coefs[1],b=coefs[2], lwd=2, col=4)
with(Advertising,segments(TV, sales, TV, pred, lwd = 1))
```


# Multiple Linear Regression

```{r, webgl=TRUE}
lm2 <- update(lm1, .~ . + radio) ## add second predictor

coefs <- coef(lm2)
a <- coefs["TV"]
b <- coefs["radio"]
c <- -1
d <- coefs["(Intercept)"]

AA <- BB <- Advertising[,c("TV","radio","sales")]
BB$sales <- lm2$fitted.values
CC <- rbind.data.frame(AA,BB)
CC <- CC[order(CC$TV,CC$radio),]

plot3d(sales ~ TV + radio, data=Advertising, col=2)
rglplanes <- planes3d(a, b, c, d, alpha = 0.5, col = 4)

rglsegments <- segments3d(CC,col=1, lwd=1.5, alpha=0.8)
```



# Other Considerations



# Example Explained




# Done!

