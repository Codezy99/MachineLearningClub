<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>An Introduction to Statistical Learning - with applications in R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Federico Marini (marinif@uni-mainz.de)" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/FMstyles.css" type="text/css" />
    <link rel="stylesheet" href="css/animate.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, title-slide

# An Introduction to Statistical Learning - with applications in R
## Gareth James, Daniela Witten, Trevor Hastie, Robert Tibshirani
### Federico Marini (<a href="mailto:marinif@uni-mainz.de" class="email">marinif@uni-mainz.de</a>)</br>
### 2020/03/02</br> IMBEI - University Medical Center Mainz

---




# Agenda

- Introductions
- The book
- Objectives
- Basic rules
- Guidelines and logistics
- Schedule
- Chapter 1: Introduction
- Tutorial: Creating and publishing presentations with R Studio

---

# Introductions

Who are you?

--

Why are you here?

--

"This book is intended for anyone who is interested in using modern statistical methods for modeling and prediction from data"

---

class: middle, center

# The book

### An Introduction to Statistical Learning - with Applications in R

Available at: http://faculty.marshall.usc.edu/gareth-james/ISL/ ("Download the book PDF")

![](http://faculty.marshall.usc.edu/gareth-james/ISL/ISL%20Cover%202.jpg)
---

# Why this book?

This book provides an introduction to statistical learning methods. It is aimed for upper level undergraduate students, masters students and Ph.D. students in the non-mathematical sciences.

--

"Anyone who wants to intelligently analyze complex data should own this book"

--

"It’s chock full of interesting examples  of how modern predictive machine learning algorithms work (and don’t work) in a variety of settings."

--

"it is by far the most well-written textbook I have ever used"

---

# Objectives

We want to...

- Discuss openly and collaboratively (and learn) about statistical methods for analyzing data

--

- Collaborate with our colleagues to better understand statistical concepts and its applications

--

- Collect some concrete hands-on experience on statistical analysis by following the labs in the book

--

- Your suggestions?




---

# Basic rules

We all need to stick to a set of rules if we want this meetings series to be effective and successful

- If you have questions, ask!
- If you know the answers, share them!
- If you cite copyrighted material, please appropriately reference your source(s)

--

My turn then:

This format for presenting and structuring the content is inspired by the format used by Levi Waldron (https://waldronlab.io/) for a similar book reading series (`data-science-seminar`)

--

### Requirements

- Willingness to learn
- Some familiarity with R

In-depth introduction to machine learning in 15 hours of expert videos: https://www.dataschool.io/15-hours-of-expert-machine-learning-videos/

---

# Guidelines and Logistics

https://github.com/imbeimainz/IMBEIbookclub

![](images/bookclub_repo.png)

---

# Guidelines and Logistics

https://github.com/imbeimainz/IMBEIbookclub

Time: Mondays, 13.15 - 14.45
Where: IMBEI Sitzungssaal (Building 902)

Communications: 

Proposal: the channel `#bookclub` in the Slack workspace https://imbeibiostats-bioinfo.slack.com (send me an email for receiving the invitation)

Sharing code, outputs:

https://github.com/imbeimainz/IMBEIbookclub - please respect the folder structure


---

# Schedule

https://github.com/imbeimainz/IMBEIbookclub/wiki

![](images/bookclub_wiki.png)

---

class: inverse, center, middle

# Chapter 1:  Introduction

---

# Statistical learning

**Statistical learning**: toolset for understanding data

--

- supervised methods: build a statistical model to predict/estimate an output based on more inputs
- unsupervised methods: no expected outputs, learn relationships and structure 

--

Strong accent: use real-world data sets to explain the concepts

---

# History

**Statistical learning**: recently conceived

* 19th century - Legendre and Gauss: *Method of least squares* (early Linear Regression) – Predicting quantitative values

--

* 1936 - Fisher: *Linear Discriminant Analysis* – Predicting qualitative values

--

* 1940:  *Logistic regression* – Predicting qualitative values

--

* 1970s - Nelder and Wedderburn: *Generalized linear models* - Predicting qualitative and qualitative values. Linear only - computational feasibility was the problem!

--

* 1980s - Breiman, Friedman, Olshen, Stone: *classification and regression trees* (non-linear relationships)

--

* 1986 - Hastie and Tibshirani: *generalized additive models* (non-linear extensions to generalized linear models) + software implementations!

--

* More recently: machine learning - statistical learning as a subfield of statistics

--

`R`: powerful, user friendly, freely available software

---

# ISL and ESL

**ESL** (2001): comprehensive intro on the topic, but now audience is wider

Purpose of **ISL**: assist transition of statistical learning from academic to mainstream field

Aim: understand models, intuitions, pros and cons of various approaches

--

- methods relevant to many academic and non- disciplines
- present the methods to best choose which box to use: models, intuition, assumptions, tradeoffs
- not too deep into technical details, some math familiarity is assumed
- application to real world problems - R computer labs for each chapter!

---

# About the conventions

`\(n\)` observations

`\(p\)` variables

`Variable name`

`\(x_{i j}\)`, i from 1 to `\(n\)`, j from 1 to `\(p\)`

`$$\mathbf{X}=\left(\begin{array}{cccc}
{x_{11}} &amp; {x_{12}} &amp; {\dots} &amp; {x_{1 p}} \\
{x_{21}} &amp; {x_{22}} &amp; {\dots} &amp; {x_{2 p}} \\
{\vdots} &amp; {\vdots} &amp; {\ddots} &amp; {\vdots} \\
{x_{n 1}} &amp; {x_{n 2}} &amp; {\dots} &amp; {x_{n p}}
\end{array}\right)$$`

--

My trick: MathPix, a life saver (or at least, a time saver!)

---

# About the conventions

.pull-left[
`\(i\)`th observation

`$$x_{i}=\left(\begin{array}{c}
{x_{i 1}} \\
{x_{i 2}} \\
{\vdots} \\
{x_{i p}}
\end{array}\right)$$`

]

.pull-right[
`\(j\)`th variable

`$$\mathbf{x}_{j}=\left(\begin{array}{c}
{x_{1 j}} \\
{x_{2 j}} \\
{\vdots} \\
{x_{n j}}
\end{array}\right)$$`

]

---

# About the conventions

.pull-left[
`\(\mathbf{y}\)`, our output

`$$\mathbf{y}=\left(\begin{array}{c}
{y_{1}} \\
{y_{2}} \\
{\vdots} \\
{y_{n}}
\end{array}\right)$$`

]

.pull-right[
a vector of length `\(n\)`

`$$\mathbf{a}=\left(\begin{array}{c}
{a_{1}} \\
{a_{2}} \\
{\vdots} \\
{a_{n}}
\end{array}\right)$$`

]

---

# About the conventions

- matrix `\(\mathbf{A}\)`
- random variable  `\(A\)`
- scalar `\(a\)`

Dimensions:

`\(a \in \mathbb{R}^{k}\)`

`\(\mathbf{A} \in \mathbb{R}^{r \times s}\)`

--

Avoided using matrix algebra *whenever possible*

---

# There's more than just the book

`ISLR` package as a companion + `MASS` (`Boston`) + base `R` (`USArrests`)


```r
install.packages("ISLR")
```


```r
library("ISLR")
d &lt;- data(package = "ISLR")
d$results[, c("Item", "Title")]
```

```
##       Item        Title                                      
##  [1,] "Auto"      "Auto Data Set"                            
##  [2,] "Caravan"   "The Insurance Company (TIC) Benchmark"    
##  [3,] "Carseats"  "Sales of Child Car Seats"                 
##  [4,] "College"   "U.S. News and World Report's College Data"
##  [5,] "Credit"    "Credit Card Balance Data"                 
##  [6,] "Default"   "Credit Card Default Data"                 
##  [7,] "Hitters"   "Baseball Data"                            
##  [8,] "Khan"      "Khan Gene Data"                           
##  [9,] "NCI60"     "NCI 60 Data"                              
## [10,] "OJ"        "Orange Juice Data"                        
## [11,] "Portfolio" "Portfolio Data"                           
## [12,] "Smarket"   "S&amp;P Stock Market Data"                    
## [13,] "Wage"      "Mid-Atlantic Wage Data"                   
## [14,] "Weekly"    "Weekly S&amp;P Stock Market Data"
```

---

# `Wage`


```r
colnames(Wage)
```

```
##  [1] "year"       "age"        "maritl"     "race"       "education" 
##  [6] "region"     "jobclass"   "health"     "health_ins" "logwage"   
## [11] "wage"
```

Wage data

Source: Data from group of males from the Atlantic region of the United States

Variables: Wages, age, year of wage, and education.

Aim: understand the association between an employee’s wage and age, year of wage, and education (linear regression)

---

# `Smarket`


```r
colnames(Smarket)
```

```
## [1] "Year"      "Lag1"      "Lag2"      "Lag3"      "Lag4"      "Lag5"     
## [7] "Volume"    "Today"     "Direction"
```

Stock Market Data

Source: Data from the daily movements in the Standard &amp; Poor’s 500 (S&amp;P) stock index over a 5-year period between 2001 and 2005.

Variables: Daily Index, time variable

Aim: to predict whether the index will increase or decrease on a given day using the past 5 days' percentage changes in the index (predict a categorical output, classification problem)

---

# `NCI60`


```r
str(NCI60)
```

```
## List of 2
##  $ data: num [1:64, 1:6830] 0.3 0.68 0.94 0.28 0.485 ...
##   ..- attr(*, "dimnames")=List of 2
##   .. ..$ : chr [1:64] "V1" "V2" "V3" "V4" ...
##   .. ..$ : chr [1:6830] "1" "2" "3" "4" ...
##  $ labs: chr [1:64] "CNS" "CNS" "CNS" "RENAL" ...
```

Gene Expression Data

Source: 6830 gene expression measurements for each of 64 cancer cell lines

Aim: determining whether there are groups, or clusters, among the cell lines based on their gene expression measurements (many dimensions, loss of info but visualize via PCA)

---

class: middle, center

# Practicing what I preach

---


```r
library(ggplot2)
theme_set(theme_bw())
ggplot(Wage,
       aes(x = age, y = wage)) + 
  geom_point() + 
  geom_smooth()
```

&lt;img src="chapter1_files/figure-html/unnamed-chunk-6-1.png" style="display: block; margin: auto;" /&gt;

---


```r
ggplot(Wage,
       aes(x = year, y = wage)) + 
  geom_point() 
```

&lt;img src="chapter1_files/figure-html/unnamed-chunk-7-1.png" style="display: block; margin: auto;" /&gt;

---


```r
ggplot(Wage,
       aes(x = year, y = wage)) + 
  geom_jitter() 
```

&lt;img src="chapter1_files/figure-html/unnamed-chunk-8-1.png" style="display: block; margin: auto;" /&gt;

---


```r
ggplot(Wage,
       aes(x = year, y = wage, group = year)) + 
  ggforce::geom_sina() 
```

&lt;img src="chapter1_files/figure-html/unnamed-chunk-9-1.png" style="display: block; margin: auto;" /&gt;

---


```r
ggplot(Wage,
       aes(x = education, y = wage, fill = education)) + 
  geom_boxplot()
```

&lt;img src="chapter1_files/figure-html/unnamed-chunk-10-1.png" style="display: block; margin: auto;" /&gt;

---


```r
ggplot(Wage,
       aes(x = education, y = wage, fill = education)) + 
  geom_violin()
```

&lt;img src="chapter1_files/figure-html/unnamed-chunk-11-1.png" style="display: block; margin: auto;" /&gt;

---

# Practicing what I preach - part 2


```r
dim(NCI60$data)
head(NCI60$labs)
```



```r
library(SummarizedExperiment)
se &lt;- SummarizedExperiment(assays = List(counts = t(NCI60$data)))
tse &lt;- DESeq2::DESeqTransform(se)
tse$label &lt;- NCI60$labs
pcaExplorer::pcaplot(tse, "label", text_labels = FALSE, ellipse = FALSE)
```

&lt;img src="chapter1_files/figure-html/unnamed-chunk-13-1.png" style="display: block; margin: auto;" /&gt;


---

# Tutorial: Creating an Rmd presentation with R Studio

I'll guide you through this!

--

(I can also show you how this presentation looks like!)

--

For Git &amp; GitHub: excellent overview presentation!

http://brunaw.com/slides/git-workshop/git-workshop.html

---

class: middle, center

# Thank you all for your attention!

Next meeting: March, 9 2020

![](images/bookclub_chap2_preview.png)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
